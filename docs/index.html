<!DOCTYPE html><html><head><meta charset="utf-8" /><meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible" /><title>Grafana - Docs - Installation</title><meta content="0; url=http://docs.grafana.org/installation" http-equiv="refresh" /><link href="http://docs.grafana.org/installation" rel="canonical" /><meta content="Torkel Ödegaard" name="author" /><meta content="width=device-width, initial-scale=1" name="viewport" /><meta content="The leading graph and dashboard builder for visualizing time series metrics." name="description" /><meta content="Grafana, Graphite, Dashboard, InfluxDB, OpenTSDB, Elasticsearch, Metrics, Editor, Composer, Analytics, Graphana, Prometheus" name="keywords" /><link href="/assets/img/fav32.png" rel="icon" /><link href="/assets/stylesheets/all.css" rel="stylesheet" /><link href="//netdna.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.css" rel="stylesheet" /><link href="https://fonts.googleapis.com/css?family=Open+Sans:400,600" rel="stylesheet" /><script src="/assets/javascripts/all.js"></script><meta content="Docs - Installation" property="og:title" /><meta content="Grafana.org" property="og:site_name" /><meta content="website" property="og:type" /><meta content="http://grafana.org/assets/img/docs/nice_dashboard.png" property="og:image" /></head><body class="docs docs_index"><section class="nav"><div class="row"><nav class="top-bar" data-topbar="1"><ul class="title-area"><li class="name"><a href="/"><img class="no-shadow" height="35" src="/assets/img/logo_new_transparent_200x46.png" width="150px" /></a></li><li class="toggle-topbar menu-icon"><a href="#"><span></span></a></li></ul><section class="top-bar-section"><ul class="right"><li><a href="/features/">Features</a></li><li><a href="http://docs.grafana.org">Docs</a></li><li><a href="/community/">Community</a></li><li><a href="/blog/">Blog</a></li><li class="has-form"><a class="button" href="http://play.grafana.org" id="top-bar-demo-button" target="_blank">Live Demo</a></li><li><a href="https://github.com/grafana/grafana" target="_blank" title="Go to github repository"><i class="fa fa-fw fa-github"></i></a</li><li class="has-form"><a class="button" href="/download" id="top-bar-button">Download</a></li></ul></section></nav></div></section><section class="main"><h1 id="installation">Installation</h1>

<p>Grafana is a frontend for <a href="http://graphite.readthedocs.org/en/latest/">Graphite</a>, <a href="http://influxdb.org">InfluxDB</a>
and <a href="http://opentsdb.net">OpenTSDB</a> with powerful visualization features for time series data.
You will need either a Graphite, InfluxDB or OpenTSDB server for Grafana to be of any use.</p>

<h2 id="download">Download</h2>

<p><a href="/download">Download</a> the latest release. The release package contain a subfolder, for example <strong>grafana-1.7.0</strong>. The
contents of this folder should be hosted by a web server, for example nginx, apache, IIS. The standard release
packages does not contain a web server to host Grafana.</p>

<h3 id="dependencies">Dependencies</h3>

<p>There are no dependencies, Grafana is a client side application that runs in your browser. It only needs a time series store
where it can fetch metrics. If you use InfluxDB Grafana can use it to store dashboards.
If you use Graphite or OpenTSDB you can use Elasticsearch to store dashboards or just use json files stored on disk.</p>

<h3 id="provisioning">Provisioning</h3>

<p>If you prefer to install grafana via Puppet, Ansible, Docker or Chef. <a href="/docs/provisioning">This page</a> has compiled a
list of repositories for different provisioning systems</p>

<h2 id="configuration">Configuration</h2>

<p>In your chosen Grafana install location, locate the file <strong>config.sample.js</strong> and copy or rename it to <strong>config.js</strong>.
This files contains global settings for your Grafana installation.</p>

<h3 id="datasources">Datasources</h3>

<p>The datasources property defines your metric, annotation and dashboard storage backends.</p>

<ul>
<li>You can specify multiple datasources.</li>
<li>default: true    marks it as the default metric source (if you have multiple)</li>
<li>grafanaDB: true  marks it for use as dashboard storage (applicable for InfluxDB &amp; Elasticsearch)</li>
</ul>

<h3 id="influxdb-example-setup">InfluxDB example setup</h3>
<pre class="highlight javascript"><code><span class="nx">datasources</span><span class="err">:</span> <span class="p">{</span>
  <span class="s1">'eu-metrics'</span><span class="err">:</span> <span class="p">{</span>
    <span class="nl">type</span><span class="p">:</span> <span class="s1">'influxdb'</span><span class="p">,</span>
    <span class="nx">url</span><span class="err">:</span> <span class="s1">'http://my_influxdb_server:8086/db/&lt;db_name&gt;'</span><span class="p">,</span>
    <span class="nx">username</span><span class="err">:</span> <span class="s1">'test'</span><span class="p">,</span>
    <span class="nx">password</span><span class="err">:</span> <span class="s1">'test'</span><span class="p">,</span>
  <span class="p">},</span>
  <span class="s1">'grafana'</span><span class="err">:</span> <span class="p">{</span>
    <span class="nl">type</span><span class="p">:</span> <span class="s1">'influxdb'</span><span class="p">,</span>
    <span class="nx">url</span><span class="err">:</span> <span class="s1">'http://my_influxdb_server:8086/db/grafana'</span><span class="p">,</span>
    <span class="nx">username</span><span class="err">:</span> <span class="s1">'test'</span><span class="p">,</span>
    <span class="nx">password</span><span class="err">:</span> <span class="s1">'test'</span><span class="p">,</span>
    <span class="nx">grafanaDB</span><span class="err">:</span> <span class="kc">true</span>
  <span class="p">},</span>
<span class="p">},</span>
</code></pre>

<p>In the above example you see two InfluxDB datasources, one for metrics and a separate used for dashboard storage. You can use the same InfluxDB
database for both. But it is probably a good idea to keep them separate. The InfluxDB databases need to exist, grafana does not create
them.</p>

<h3 id="graphite-amp-elasticsearch-setup-example">Graphite &amp; Elasticsearch setup example</h3>
<pre class="highlight javascript"><code><span class="nx">datasources</span><span class="err">:</span> <span class="p">{</span>
  <span class="nl">graphite</span><span class="p">:</span> <span class="p">{</span>
    <span class="nl">type</span><span class="p">:</span> <span class="s1">'graphite'</span><span class="p">,</span>
    <span class="nx">url</span><span class="err">:</span> <span class="s2">"http://my.graphite.server.com:8080"</span><span class="p">,</span>
  <span class="p">},</span>
  <span class="nx">elasticsearch</span><span class="err">:</span> <span class="p">{</span>
    <span class="nl">type</span><span class="p">:</span> <span class="s1">'elasticsearch'</span><span class="p">,</span>
    <span class="nx">url</span><span class="err">:</span> <span class="s2">"http://my.elastic.server.com:9200"</span><span class="p">,</span>
    <span class="nx">index</span><span class="err">:</span> <span class="s1">'grafana-dash'</span><span class="p">,</span>
    <span class="nx">grafanaDB</span><span class="err">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="p">}</span>
<span class="p">},</span>
</code></pre>

<p>If you use Graphite you need Elasticsearch if you want to store &amp; search dashboards. You can also use json and scripted dashboards if
you really do not want to setup Elasticsearch.</p>

<h3 id="opentsdb-amp-elasticsearch-setup-example">OpenTSDB &amp; Elasticsearch setup example</h3>
<pre class="highlight javascript"><code><span class="nx">datasources</span><span class="err">:</span> <span class="p">{</span>
  <span class="nl">opentsdb</span><span class="p">:</span> <span class="p">{</span>
    <span class="nl">type</span><span class="p">:</span> <span class="s1">'opentsdb'</span><span class="p">,</span>
    <span class="nx">url</span><span class="err">:</span> <span class="s2">"http://my.opentsdb.server.com:4242"</span><span class="p">,</span>
  <span class="p">},</span>
  <span class="nx">elasticsearch</span><span class="err">:</span> <span class="p">{</span>
    <span class="nl">type</span><span class="p">:</span> <span class="s1">'elasticsearch'</span><span class="p">,</span>
    <span class="nx">url</span><span class="err">:</span> <span class="s2">"http://my.elastic.server.com:9200"</span><span class="p">,</span>
    <span class="nx">index</span><span class="err">:</span> <span class="s1">'grafana-dash'</span><span class="p">,</span>
    <span class="nx">grafanaDB</span><span class="err">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="p">}</span>
<span class="p">},</span>
</code></pre>

<p>Please view <a href="/docs/features/opentsdb">this page</a> for details on how to configure OpenTSDB to work with Grafana.</p>

<h3 id="elasticsearch-amp-cors">Elasticsearch &amp; CORS</h3>

<p>As of Elasticsearch v1.4 CORS is disabled by default. This needs to be enabled in the Elasticsearch config file, otherwise grafana will not be able to access Elasticsearch.</p>
<pre class="highlight plaintext"><code>http.cors.enabled: true
http.cors.allow-origin: *
</code></pre>

<p>Instead of the wildcard you can put your full grafana webserver address (including http:// and port)</p>

<h3 id="basic-authentication">Basic authentication</h3>

<p>If your Graphite or Elasticsearch server require basic authentication you can specify the username and password in the url.
For example <code class="prettyprint">&quot;http://admin:secret@my.graphite.com&quot;</code></p>

<h2 id="global-configuration-options">Global configuration options</h2>
<pre class="highlight javascript"><code><span class="c1">// specify the limit for dashboard search results</span>
<span class="nl">search</span><span class="p">:</span> <span class="p">{</span>
  <span class="nl">max_results</span><span class="p">:</span> <span class="mi">20</span>
<span class="p">},</span>

<span class="c1">// default start dashboard</span>
<span class="nx">default_route</span><span class="err">:</span> <span class="s1">'/dashboard/file/default.json'</span><span class="p">,</span>

<span class="c1">// set to false to disable unsaved changes warning</span>
<span class="nx">unsaved_changes_warning</span><span class="err">:</span> <span class="kc">true</span><span class="p">,</span>

<span class="c1">// set the default timespan for the playlist feature</span>
<span class="c1">// Example: "1m", "1h"</span>
<span class="nx">playlist_timespan</span><span class="err">:</span> <span class="s2">"1m"</span><span class="p">,</span>

<span class="c1">// If you want to specify password before saving, please specify it bellow</span>
<span class="c1">// The purpose of this password is not security, but to stop some users from accidentally changing dashboards</span>
<span class="nx">admin</span><span class="err">:</span> <span class="p">{</span>
  <span class="nl">password</span><span class="p">:</span> <span class="s1">''</span>
<span class="p">},</span>

<span class="c1">// Add your own custom panels</span>
<span class="nx">plugins</span><span class="err">:</span> <span class="p">{</span>
  <span class="nl">panels</span><span class="p">:</span> <span class="p">[]</span>
<span class="p">}</span>
</code></pre>

<h2 id="graphite-server-config">Graphite server config</h2>

<p>If you haven&rsquo;t used an alternative dashboard for graphite before you need to enable CORS (Cross Origin Resource Sharing).
This is only required if Grafana is hosted on a different web domain from your graphite-web.</p>

<p>For Apache 2.x:</p>
<pre class="highlight javascript"><code><span class="nx">Header</span> <span class="nx">set</span> <span class="nx">Access</span><span class="o">-</span><span class="nx">Control</span><span class="o">-</span><span class="nx">Allow</span><span class="o">-</span><span class="nx">Origin</span> <span class="s2">"*"</span>
<span class="nx">Header</span> <span class="nx">set</span> <span class="nx">Access</span><span class="o">-</span><span class="nx">Control</span><span class="o">-</span><span class="nx">Allow</span><span class="o">-</span><span class="nx">Methods</span> <span class="s2">"GET, OPTIONS"</span>
<span class="nx">Header</span> <span class="nx">set</span> <span class="nx">Access</span><span class="o">-</span><span class="nx">Control</span><span class="o">-</span><span class="nx">Allow</span><span class="o">-</span><span class="nx">Headers</span> <span class="s2">"origin, authorization, accept"</span>
</code></pre>

<p>Note that using <code class="prettyprint">&quot;*&quot;</code> leaves your graphite instance quite open so you might want to consider
using <code class="prettyprint">&quot;http://my.grafana.com&quot;</code> in place of <code class="prettyprint">&quot;*&quot;</code></p>

<p>If your Graphite web is protected by basic authentication, you have to enable the HTTP verb OPTIONS. Take note that
when using basic auth <strong>Access-Control-Allow-Origin</strong> must not be set to a wildcard, also the header
<strong>Access-Control-Allow-Credentials</strong> must be specified. This looks like the following for Apache:</p>
<pre class="highlight html"><code>Header set Access-Control-Allow-Origin    "http://mygrafana.com:5656"
Header set Access-Control-Allow-Methods   "GET, OPTIONS"
Header set Access-Control-Allow-Headers   "origin, authorization, accept"
Header set Access-Control-Allow-Credentials true

<span class="nt">&lt;Location</span> <span class="nt">/&gt;</span>
    AuthName "graphs restricted"
    AuthType Basic
    AuthUserFile /etc/apache2/htpasswd
    <span class="nt">&lt;LimitExcept</span> <span class="na">OPTIONS</span><span class="nt">&gt;</span>
      require valid-user
    <span class="nt">&lt;/LimitExcept&gt;</span>
<span class="nt">&lt;/Location&gt;</span>
</code></pre>

<p>For nginx:</p>
<pre class="highlight javascript"><code><span class="nx">auth_basic</span>            <span class="s2">"Restricted"</span><span class="p">;</span>
<span class="nx">auth_basic_user_file</span>  <span class="o">/</span><span class="nx">path</span><span class="o">/</span><span class="nx">to</span><span class="o">/</span><span class="nx">my</span><span class="o">/</span><span class="nx">htpasswd</span><span class="o">/</span><span class="nx">file</span><span class="p">;</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">$http_origin</span> <span class="o">~*</span> <span class="p">(</span><span class="nx">https</span><span class="p">?:</span><span class="c1">//[^/]*\.somedomain\.com(:[0-9]+)?)) {  #Test if request is from allowed domain, you can use multiple if</span>
    <span class="nx">set</span> <span class="nx">$cors</span> <span class="s2">"true"</span><span class="p">;</span>                                               <span class="err">#</span><span class="nx">statements</span> <span class="nx">to</span> <span class="nx">allow</span> <span class="nx">multiple</span> <span class="nx">domains</span><span class="p">,</span> <span class="nx">simply</span> <span class="nx">setting</span> <span class="nx">$cors</span> <span class="nx">to</span> <span class="kc">true</span> <span class="k">in</span> <span class="nx">each</span> <span class="nx">one</span><span class="p">.</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">$cors</span> <span class="o">=</span> <span class="s1">'true'</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">add_header</span>  <span class="nx">Access</span><span class="o">-</span><span class="nx">Control</span><span class="o">-</span><span class="nx">Allow</span><span class="o">-</span><span class="nx">Origin</span> <span class="nx">$http_origin</span><span class="p">;</span>           <span class="err">#</span><span class="k">this</span> <span class="nx">mirrors</span> <span class="nx">back</span> <span class="nx">whatever</span> <span class="nx">domain</span> <span class="nx">the</span> <span class="nx">request</span> <span class="nx">came</span> <span class="nx">from</span> <span class="nx">as</span> <span class="nx">authorized</span><span class="p">,</span> <span class="nx">as</span>
    <span class="nx">add_header</span>  <span class="s2">"Access-Control-Allow-Credentials"</span> <span class="s2">"true"</span><span class="p">;</span>          <span class="err">#</span><span class="nx">as</span> <span class="kr">long</span> <span class="nx">as</span> <span class="nx">it</span> <span class="nx">matches</span> <span class="nx">one</span> <span class="nx">of</span> <span class="nx">your</span> <span class="k">if</span> <span class="nx">statements</span>
    <span class="nx">add_header</span>  <span class="s2">"Access-Control-Allow-Methods"</span> <span class="s2">"GET, OPTIONS"</span><span class="p">;</span>
    <span class="nx">add_header</span>  <span class="s2">"Access-Control-Allow-Headers"</span> <span class="s2">"Authorization, origin, accept"</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
</section><div id="blueimp-gallery" class="blueimp-gallery blueimp-gallery-controls"><div class="slides"></div><h3 class="title"></h3><a class="prev">‹</a><a class="next">›</a><a class="close">×</a><a class="play-pause"></a><ol class="indicator"></ol></div><footer class="page-footer"><div class="footer-bg"></div><div class="footer-content row text-center"><section class="newsletter"><div class="row"><h3 class="text-center">Get notified of new releases</h3></div><div class="row"><div class="medium-10 large-6 columns medium-offset-1 large-offset-3"><form action="http://grafana.us8.list-manage.com/subscribe/post?u=2aeb5711db2aececc990be536&amp;id=5585d37ecc" class="validate" id="mc-embedded-subscribe-form" method="post" name="mc-embedded-subscribe-form" target="_blank"><div class="row collapse"><div class="medium-10 columns"><input class="email" id="mce-EMAIL" name="EMAIL" placeholder="email address" type="email" value="" /></div><div class="medium-2 columns"><input class="button postfix" id="mc-embedded-subscribe" name="subscribe" type="submit" value="Subscribe" /></div></div></form></div></div></section><div class="footer-social"><span><i class="fa fa-github"></i><a href="https://github.com/grafana/grafana/issues">issue tracker</a> on GitHub</span><span><i class="fa fa-comment"></i><a href="irc://chat.freenode.net/#grafana">#grafana</a> on freenode</span><span><i class="fa fa-twitter"></i><a href="http://twitter.com/grafana">@grafana</a> on Twitter</span><span><i class="fa fa-envelope"></i><a href="mailto:torkel@grafana.org">email</a></span></div><div class="row copyright text-center">&copy; 2015 Torkel Ödegaard &amp; Coding Instinct AB</div></div></footer><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-47280256-1', 'grafana.org');
ga('require', 'linkid', 'linkid.js');
ga('send', 'pageview', {
 'page': location.pathname + location.search  + location.hash,
});</script></body></html>